---
title: "Browser Sync Widget"
excerpt: ""
---
To allow operators monitoring and provide online support also to customers who donâ€™t start a contact from the web but by phone, we implemented the browser sync, that is a sharing session bootable by a pin.

## Quick start integration

The agent have only to share with the customer the pin generated by the system and ask him to paste at the and of the page URL he is visiting at the moment.
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/e96069d-Screen_Shot_2016-06-23_at_18.55.08.png",
        "Screen Shot 2016-06-23 at 18.55.08.png",
        1280,
        935,
        "#ddddda"
      ],
      "caption": "Notice the # with the PIN at the end of the URL"
    }
  ]
}
[/block]
## Integrated mode

The customer will get a window that asks him to agree for starting the sharing session.

Taken the agreement, the agent will be able to give the support and the customer could be able to end the sharing session whenever he wants.
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/d528ce1-Screen_Shot_2016-06-23_at_19.04.07.png",
        "Screen Shot 2016-06-23 at 19.04.07.png",
        1280,
        936,
        "#3d3d49"
      ],
      "caption": "The user has to insert manually the pin in page"
    }
  ]
}
[/block]
## Integration example

Here you can see a complete example that shows how to integrate a browser sync widget and handle contact sync.

The example page will ideally show 2 small boxes:
[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/4e70196-Schermata_2016-09-08_alle_12.29.53.png",
        "Schermata 2016-09-08 alle 12.29.53.png",
        435,
        452,
        "#e8e8e8"
      ],
      "caption": "the first box: the user has to insert the sharing code received from the agent in order to start a sharing session"
    }
  ]
}
[/block]

[block:image]
{
  "images": [
    {
      "image": [
        "https://files.readme.io/f4eee7b-Schermata_2016-09-08_alle_12.33.20.png",
        "Schermata 2016-09-08 alle 12.33.20.png",
        162,
        244,
        "#ebebea"
      ],
      "caption": "Control box that will appear when the session starts"
    }
  ]
}
[/block]
This example uses the following Vivocha apis:
- [vivocha.syncContact](https://m1.vivocha.com/a/_/api/doc/VivochaVisitor.html#.syncContact) that syncs the contact using the sharing code
- [vivocha.events.on](https://m1.vivocha.com/a/_/api/doc/VivochaVisitor.html#.events) for handle the **contactSync** event that will occur when the page is loaded with an existing synced contact

Don't forget you can check the Javascript SDK documentation [HERE](https://m1.vivocha.com/a/_/api/doc/).
[block:code]
{
  "codes": [
    {
      "code": "<style>\n.vvc_box {\n  background-color: #efefef;\n  border: #e4e4e4 2px solid;\n  border-radius: 4pt;\n}\n#vvc_tools {\n  display: none;\n  width: 66px;\n  height: 108px;\n}\n#vvc_tools i {\n  display: block;\n  margin: 32px 22px;\n  width: 22px;\n  height: 22px;\n  cursor: pointer;\n}\n#vvc_tools i:first-child {\n  margin-top: 16px;\n}\n#vvc_tools i:last-child {\n  margin-bottom: 16px;\n}\n#vvc_tools i#vvc_btn_sharing {\n  background: url(\"http://d3btqb6knwd3a4.cloudfront.net/a/templates/media/share-grey.png\") center/100% 100%;\n}\n#vvc_tools i#vvc_btn_sharing.vvc_btn_on {\n  background: url(\"http://d3btqb6knwd3a4.cloudfront.net/a/templates/media/share-green.png\") center/100% 100%;\n}\n#vvc_tools i#vvc_btn_close {\n  background: url(\"http://d3btqb6knwd3a4.cloudfront.net/a/templates/media/close-red.png\") center/100% 100%;\n}\n#vvc_sharing {\n  display: none;\n  width: 160px;\n  /*height: 172px;*/\n  padding: 20px;\n\n  color: #555;\n  font-size: 13px;\n  line-height: 1.2em;\n  font-family: arial;\n}\n#vvc_sharing h3 {\n  margin-top: 0;\n}\n#vvc_sharing h6 {\n  display: none;\n  margin: 0;\n  color: #df585c;\n}\n#vvc_sharing input {\n  width: 100%;\n}\n#vvc_sharing button {\n  margin-top: 16px;\n  border-top: 0;\n  border-left: 0;\n  border-right: 0;\n  font-size: 12px;\n  border-radius: 4pt;\n  padding: 6px 12px;\n  text-transform: uppercase;\n  font-weight: bold;\n  text-align: center;\n  font-family: 'Open sans',arial,sans-serif;\n  -moz-transition: background .2s linear;\n  transition: background .2s linear;\n  position: relative;\n}\n#vvc_sharing button.vvc_btn_on {\n  background: #80bc7a;\n  border-bottom: 2px solid green;\n  color: #f8f8f8;\n}\n</style>\n<div id=\"vvc_tools\" class=\"vvc_box\">\n  <i id=\"vvc_btn_sharing\"></i>\n  <i id=\"vvc_btn_close\"></i>\n</div>\n<div id=\"vvc_sharing\" class=\"vvc_box\">\n  <h3>Sharing session</h3>\n  <h4>Please insert the sharing code that you received from our agent in the box below</h4>\n  <input id=\"vvc_sharing_code\" placeholder=\"Sharing code\" />\n  <h6>invalid token</h6>\n  <button>cancel</button>\n  <button class=\"vvc_btn_on\">confirm</button>\n</div>\n    <script>\n      vivocha.ready(function () {\n        function toggleCodeBox() {\n          vivocha.$('#vvc_sharing').toggle();\n          vivocha.$('#vvc_sharing_code').val('');\n        };\n        vivocha.$('h1, #vvc_sharing button:not(.vvc_btn_on)').on(\"click\", function () {\n          toggleCodeBox();\n        });\n        vivocha.$('#vvc_sharing button.vvc_btn_on').click(function () {\n          var syncid = vivocha.$('#vvc_sharing_code').val();\n          if (syncid) {\n            vivocha.syncContact(syncid, {}, function (err, res) {\n              if (err) {\n                console.error(err);\n                vivocha.$('#vvc_sharing h6').show();\n              }\n              else {\n                toggleCodeBox();\n                vivocha.$('#vvc_tools').toggle();\n                vivocha.$('#vvc_btn_sharing').addClass('vvc_btn_on');\n                vivocha.contact.on('left', function () {\n                  vivocha.$('#vvc_btn_sharing').removeClass('vvc_btn_on');\n                  vivocha.contact.leave();\n                });\n              }\n            });\n          }\n          else {\n            console.error('undefined syncid');\n            vivocha.$('#vvc_sharing h6').show();\n          }\n        })\n        vivocha.$('#vvc_btn_close').click(function () {\n          vivocha.contact.leave();\n          vivocha.$('#vvc_tools').toggle();\n        });\n\t\t\t  vivocha.events.on('contactSync', function(err, ev){\n\t\t\t  \tif(vivocha.$('#vvc_sharing:visible').size() > 0) {\n\t\t\t  \t\ttoggleCodeBox();\n\t\t\t  \t}\n\t\t\t    vivocha.$('#vvc_tools').toggle();\n\t\t\t    vivocha.$('#vvc_btn_sharing').addClass('vvc_btn_on');\n\t\t\t    vivocha.contact.on('left', function () {\n\t\t\t      vivocha.$('#vvc_btn_sharing').removeClass('vvc_btn_on');\n\t\t\t      vivocha.contact.leave();\n\t\t\t    });\n\t\t\t  });\n      });\n    </script>",
      "language": "html"
    }
  ]
}
[/block]